RECIPES_DIR := ./recipes

all: .folly_only-done .fizz-done .wangle-done .rsocket-done .fmt-done .fbthrift-done
	${RECIPES_DIR}/mcrouter.sh $(PKG_DIR) $(INSTALL_DIR) $(INSTALL_AUX_DIR)
	touch $@

.folly_only-done:
	${RECIPES_DIR}/folly.sh $(PKG_DIR) $(INSTALL_DIR) $(INSTALL_AUX_DIR)
	touch $@

.fizz-done: .folly_only-done
	${RECIPES_DIR}/fizz.sh $(PKG_DIR) $(INSTALL_DIR) $(INSTALL_AUX_DIR)
	touch $@

.wangle-done: .folly_only-done .fizz-done
	${RECIPES_DIR}/wangle.sh $(PKG_DIR) $(INSTALL_DIR) $(INSTALL_AUX_DIR)
	touch $@

.rsocket-done: .folly_only-done
	${RECIPES_DIR}/rsocket-yarpl.sh $(PKG_DIR) $(INSTALL_DIR) $(INSTALL_AUX_DIR)
	touch $@

.fmt-done:
	${RECIPES_DIR}/fmtlib.sh $(PKG_DIR) $(INSTALL_DIR) $(INSTALL_AUX_DIR)
	touch $@

.zstd-done:
	${RECIPES_DIR}/zstd.sh $(PKG_DIR) $(INSTALL_DIR) $(INSTALL_AUX_DIR)
	touch $@

.fbthrift-done: .folly_only-done .fizz-done .wangle-done .rsocket-done .fmt-done .zstd-done
	${RECIPES_DIR}/fbthrift.sh $(PKG_DIR) $(INSTALL_DIR) $(INSTALL_AUX_DIR)
	touch $@
